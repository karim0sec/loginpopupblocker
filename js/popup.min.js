chrome.storage.local.get("apps",e=>{import("/functions.mjs").then(t=>{chrome.tabs.query({active:!0,currentWindow:!0},a=>{let p=a[0],r=t.GetAppByURL(e.apps,p.url)[0];if(r){let e=r.icon?r.icon:p.favIconUrl?p.favIconUrl:"img/404.png";$(".status").text("detected"),$("#appName").text(r.name),$("#appURL").text(r.url),$("#appEnable").prop("checked",r.enabled),$("#appIcon").attr("src",e).attr("alt",r.name)}else{let e=p.favIconUrl?p.favIconUrl:"img/404.png";$(".status").text("nothing found!").addClass("error"),$("#appIcon").attr("src",e),$("#appEnable").attr("disabled",!0)}})})}),$("#appEnable").on("change",e=>{import("/functions.mjs").then(t=>{chrome.storage.local.get("apps",a=>{let p=t.GetAppByName(a.apps,$("#appName").text()),r=$(e.target)[0].checked;t.UpdateApp(a.apps,p,r)})})}),$(".fa-cogs").on("click",()=>{chrome.runtime.openOptionsPage()}),$(".fa-refresh").on("click",()=>{chrome.tabs.query({active:!0,currentWindow:!0},e=>{let t=e[0];chrome.tabs.reload(t.id)})});